<script src="https://cdn.jsdelivr.net/npm/@editorjs/editorjs@latest"></script>
<script src="topics.js"></script>
<script src="lessons.js"></script>
<script src="points.js"></script>
<script src="sub_points.js"></script>
<link href="index.css" rel="stylesheet" />

<div id="editorjs"></div>
<button id="save-button">Save</button>
<pre id="output"></pre>
<script>
  const editor = new EditorJS({
    autofocus: true,
    tools: {
      topics: {
        class: Topics,
        config: {
          placeholder: "Enter a Topic",
          levels: [1],
          defaultLevel: 1,
        },
      },
      lessons: {
        class: Lessons,
        config: {
          placeholder: "Enter a Lesson",
          levels: [2],
          defaultLevel: 2,
        },
      },
      points: {
        class: Points,
        config: {
          placeholder: "Enter a Point",
          levels: [3],
          defaultLevel: 3,
        },
      },
      subpoints: {
        class: SubPoints,
        config: {
          placeholder: "Enter a Sub-Point",
          levels: [4],
          defaultLevel: 4,
        },
      },
    },
    data: {
      time: 1552744582955,
      blocks: [
        {
          type: "topics",
          data: {
            text: "Topic One",
            level: 1,
          },
        },
        {
          type: "lessons",
          data: {
            text: "Lesson One",
            level: 2,
          },
        },
        {
          type: "points",
          data: {
            text: "Point One",
            level: 3,
          },
        },
        {
          type: "subpoints",
          data: {
            text: "SubPoint One",
            level: 4,
          },
        },
      ],
    },
  });
  const saveButton = document.getElementById("save-button");
  const output = document.getElementById("output");

  saveButton.addEventListener("click", () => {
    editor.save().then((savedData) => {
      output.innerHTML = JSON.stringify(savedData, null, 4);
    });
  });
</script>
